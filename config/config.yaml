# Configuration du Système Multi-Agents de Détection de Désinformation

# Configuration LLM
llm:
  provider: "anthropic"  # anthropic, openai, mistral
  model: "claude-3-5-sonnet-20241022"
  temperature: 0.1
  max_tokens: 4096
  api_key_env: "ANTHROPIC_API_KEY"

# Configuration Vector Store
vector_store:
  provider: "chroma"  # chroma, weaviate, faiss
  persist_directory: "./data/vector_db"
  embedding_model: "all-MiniLM-L6-v2"
  collection_name: "fact_checking_evidence"

# Configuration Agents
agents:
  classifier:
    threshold_complexity: 7  # Seuil pour utiliser Graph-based verification

  retriever:
    top_k: 10
    min_credibility: 0.3
    enable_web_search: true
    enable_fact_check_databases: true

    # Source credibility override (optionnel)
    source_credibility:
      "lemonde.fr": 0.95
      "factuel.afp.com": 0.98

  anomaly_detector:
    threshold_suspicious: 0.7
    use_llm_coherence: true

  fact_checker:
    confidence_threshold: 0.7
    enable_graph_verification: true
    enable_conflict_resolution: true

  reporter:
    alert_threshold: 0.8
    export_formats: ["json", "markdown"]
    enable_email_alerts: false

# Configuration Deepfake Detection
deepfake:
  enabled: true
  audio_threshold: 0.7
  video_threshold: 0.7
  multimodal_threshold: 0.6

# Configuration Database
database:
  postgresql:
    host: "localhost"
    port: 5432
    database: "fact_checking"
    user: "fact_checker"
    password_env: "DB_PASSWORD"

  redis:
    host: "localhost"
    port: 6379
    db: 0
    ttl: 3600  # Cache TTL en secondes

# Configuration API
api:
  host: "0.0.0.0"
  port: 8000
  cors_origins: ["*"]
  rate_limit: 100  # requêtes par heure

# Configuration Monitoring
monitoring:
  enable_logging: true
  log_level: "INFO"
  log_file: "./logs/fact_checker.log"
  enable_metrics: true
  metrics_port: 9090

# Configuration des Sources
sources:
  # Fact-checking databases
  fact_check_databases:
    - "factuel.afp.com"
    - "checknews.liberation.fr"
    - "snopes.com"
    - "politifact.com"

  # APIs externes
  apis:
    twitter:
      enabled: false
      api_key_env: "TWITTER_API_KEY"

    reddit:
      enabled: false
      client_id_env: "REDDIT_CLIENT_ID"

    google_trends:
      enabled: false
      api_key_env: "GOOGLE_TRENDS_API_KEY"

# Workflow Configuration
workflow:
  mode: "sequential"  # sequential, parallel
  enable_escalation: true
  enable_consensus: false  # Multi-path consensus (Phase 3)
  max_processing_time: 300  # secondes

# Thresholds & Tuning
thresholds:
  min_evidence_count: 2
  min_confidence_for_verdict: 0.6
  escalation_confidence: 0.5
  alert_urgency: 8

# Export Configuration
export:
  output_directory: "./output/reports"
  default_format: "json"
  include_full_state: true
  anonymize_sources: false
